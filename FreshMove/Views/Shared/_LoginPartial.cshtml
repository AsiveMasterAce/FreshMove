@using Microsoft.AspNetCore.Identity
@using FreshMove.Models.users;
@using FreshMove.Constants;
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager
@{
    var user = await UserManager.GetUserAsync(User);
}
<ul class="navbar-nav pl-3">
    @if (User.IsInRole(RoleConstants.Customer))
{
    <li class="nav-item">
        <a  class="nav-link text-dark" asp-area="Identity" asp-page="/Account/Manage/Index" title="Manage">Happy Shopping @user.FirstName</a>
    </li>
        <li class="nav-item dropdown">
            <a asp-action="" asp-controller="" class="nav-link dropdown-toggle fs-5" data-bs-toggle="dropdown" id="ProfileToggle" aria-expanded="false">

                <i class="bi bi-person-circle"></i>

            </a>
            <ul class="dropdown-menu pull-right" style="right: 0; left: auto;" aria-labelledby="ProfileToggle">
             
                <li>
                    <a class="nav-link text-dark dropdown-item" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
                        
                        <svg class="gi gi-log-out fs-4" width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path d="M7.5 19a1 1 0 0 1-.883.993L6.5 20h-2a1 1 0 0 1-.993-.883L3.5 19V5a1 1 0 0 1 .883-.993L4.5 4h2a1 1 0 0 1 .117 1.993L6.5 6h-1v12h1a1 1 0 0 1 .993.883L7.5 19zm1-7a1 1 0 0 0 .883.993L9.5 13h7.585l-2.292 2.293a1 1 0 0 0-.083 1.32l.083.094a1 1 0 0 0 1.32.083l.094-.083 4-4a1.01 1.01 0 0 0 .097-.112l.072-.11.053-.113.035-.105.03-.15L20.5 12l-.003-.075-.017-.125-.03-.11-.044-.11-.052-.097-.064-.092-.083-.094-4-4a1 1 0 0 0-1.497 1.32l.083.094L17.085 11H9.5a1 1 0 0 0-1 1z" />
                        </svg>

                        Logout
                    </a>

                </li>

           
            


            </ul>

        </li>
        <li class="nav-iten">

            <a asp-action="Cart" asp-controller="Customer" class="nav-link fs-5" asp-route-id="@user.Id"> <i class="bi bi-cart"></i> <span class="bg-danger rounded px-1 text-white"> 0</span></a>
        </li>
   
}
else
{
        <li class="nav-item dropdown">
            <a asp-action="" asp-controller="" class="nav-link dropdown-toggle fs-5" data-bs-toggle="dropdown" id="ProfileToggle" aria-expanded="false">

                <i class="bi bi-person-circle"></i>
			
             </a>
            <ul class="dropdown-menu pull-right" style="right: 0; left: auto;" aria-labelledby="ProfileToggle">
                <li><a class="nav-link text-dark dropdown-item" asp-area="Identity" asp-page="/Account/Login">Login</a></li>
                <li><a class="nav-link text-dark dropdown-item" asp-action="Customer" asp-controller="Register">Register</a></li>
          

            </ul>
            
        </li>
  
       
    
}
</ul>
<script>

    var dropdownElementList = [].slice.call(document.querySelectorAll('.dropdown-toggle'))
    var dropdownList = dropdownElementList.map(function (dropdownToggleEl) {
        return new bootstrap.Dropdown(dropdownToggleEl)
    })
</script>